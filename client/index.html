<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéÆ K√©o B√∫a Bao Online</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Sound Toggle Button -->
    <button id="soundToggle" class="sound-toggle" title="B·∫≠t/T·∫Øt √¢m thanh">üîä</button>

    <!-- Reconnect Overlay -->
    <div id="reconnectOverlay" class="reconnect-overlay hidden">
        <div class="reconnect-content">
            <div class="reconnect-spinner"></div>
            <p id="reconnectText">ƒêang k·∫øt n·ªëi l·∫°i...</p>
            <button id="reconnectCancel" class="btn-cancel">H·ªßy</button>
        </div>
    </div>

    <!-- Menu Screen -->
    <div id="menuScreen" class="screen active">
        <div class="menu-container">
            <div class="game-icons">
                <img src="assets/images/rock.png" alt="Rock" class="menu-icon">
                <img src="assets/images/paper.png" alt="Paper" class="menu-icon">
                <img src="assets/images/scissors.png" alt="Scissors" class="menu-icon">
            </div>
            <h1 class="title">K√âO B√öA BAO</h1>
            <h2 class="subtitle">ONLINE</h2>
            
            <!-- Player Name Input -->
            <div class="name-input-container">
                <input type="text" id="playerNameInput" class="name-input" placeholder="üë§ Nh·∫≠p t√™n c·ªßa b·∫°n..." maxlength="20">
            </div>
            
            <!-- Game Mode Buttons -->
            <div class="menu-buttons">
                <button id="playOnlineBtn" class="btn-menu btn-online">
                    üåê Ch∆°i Online
                </button>
                <button id="playBotBtn" class="btn-menu btn-bot">
                    ü§ñ Ch∆°i v·ªõi Bot
                </button>
            </div>
            
            <!-- Bot Difficulty -->
            <div class="bot-options">
                <label for="botDifficulty">ƒê·ªô kh√≥ Bot:</label>
                <select id="botDifficulty" class="difficulty-select">
                    <option value="easy">üòä D·ªÖ</option>
                    <option value="medium" selected>ü§î Trung b√¨nh</option>
                    <option value="hard">üòà Kh√≥</option>
                </select>
            </div>
            
            <!-- Room System -->
            <div class="room-section">
                <h3 class="section-title">üè† Ph√≤ng ri√™ng</h3>
                <div class="room-buttons">
                    <button id="createRoomBtn" class="btn-room btn-create">
                        ‚ûï T·∫°o ph√≤ng
                    </button>
                    <div class="room-join">
                        <input type="text" id="roomCodeInput" class="room-input" placeholder="M√£ ph√≤ng" maxlength="6">
                        <button id="joinRoomBtn" class="btn-room btn-join">
                            üö™ V√†o
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- History Button -->
            <button id="historyBtn" class="btn-history">
                üìú L·ªãch s·ª≠ tr·∫≠n ƒë·∫•u
            </button>
        </div>
    </div>

    <!-- Waiting Screen -->
    <div id="waitingScreen" class="screen">
        <div class="waiting-container">
            <div class="spinner"></div>
            <h2 id="waitingText">ƒêang ch·ªù ƒë·ªëi th·ªß...</h2>
            <p id="playerId" class="player-id"></p>
            
            <!-- Room Code Display -->
            <div class="room-code-container hidden">
                <p>M√£ ph√≤ng c·ªßa b·∫°n:</p>
                <div class="room-code-display">
                    <span id="roomCodeDisplay" class="room-code">------</span>
                    <button id="copyRoomCodeBtn" class="btn-copy" title="Copy m√£">üìã</button>
                </div>
                <p class="room-hint">Chia s·∫ª m√£ n√†y cho b·∫°n b√®!</p>
            </div>
            
            <button id="cancelWaitBtn" class="btn-cancel-wait">‚ùå H·ªßy</button>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="gameScreen" class="screen">
        <!-- Header v·ªõi ƒëi·ªÉm s·ªë -->
        <div class="score-board">
            <div class="game-header">
                <h1>üéÆ K√©o B√∫a Bao Online</h1>
                <span id="gameModeIndicator" class="mode-indicator">üåê Online</span>
            </div>
            <div class="scores">
                <div class="score-item wins">
                    <span class="score-label">Th·∫Øng</span>
                    <span id="wins" class="score-value">0</span>
                </div>
                <div class="score-item draws">
                    <span class="score-label">H√≤a</span>
                    <span id="draws" class="score-value">0</span>
                </div>
                <div class="score-item losses">
                    <span class="score-label">Thua</span>
                    <span id="losses" class="score-value">0</span>
                </div>
            </div>
        </div>

        <!-- Player vs Opponent -->
        <div class="game-area">
            <div class="player-box">
                <h3>üßë <span id="playerNameDisplay">B·∫°n</span></h3>
                <div id="playerMove" class="move-display">
                    <div class="move-icon">‚ùì</div>
                    <p id="playerStatus">ƒêang ch·ªù...</p>
                </div>
            </div>

            <div class="vs-divider">VS</div>

            <div class="player-box opponent">
                <h3>ü§ñ <span id="opponentNameDisplay">ƒê·ªëi th·ªß</span></h3>
                <div id="opponentMove" class="move-display">
                    <div class="move-icon">‚ùì</div>
                    <p id="opponentStatus">ƒêang ch·ªù...</p>
                </div>
            </div>
        </div>

        <!-- Result Display -->
        <div id="resultBox" class="result-box hidden">
            <h2 id="resultText"></h2>
            <div class="result-buttons">
                <button id="playAgainBtn" class="btn-play-again">Ch∆°i ti·∫øp üéÆ</button>
                <button id="backToMenuBtn" class="btn-back-menu">üè† Menu</button>
            </div>
        </div>

        <!-- Move Buttons -->
        <div id="moveButtons" class="move-buttons">
            <button class="move-btn rock" data-move="Rock">
                <img src="assets/images/rock.png" alt="Rock" class="btn-image">
                <span class="move-name">Rock</span>
            </button>
            <button class="move-btn paper" data-move="Paper">
                <img src="assets/images/paper.png" alt="Paper" class="btn-image">
                <span class="move-name">Paper</span>
            </button>
            <button class="move-btn scissors" data-move="Scissors">
                <img src="assets/images/scissors.png" alt="Scissors" class="btn-image">
                <span class="move-name">Scissors</span>
            </button>
        </div>
    </div>

    <!-- History Screen -->
    <div id="historyScreen" class="screen">
        <div class="history-container">
            <div class="history-header">
                <h1>üìú L·ªãch s·ª≠ tr·∫≠n ƒë·∫•u</h1>
                <button id="closeHistoryBtn" class="btn-close">‚úï</button>
            </div>
            
            <div id="historyStats" class="history-stats">
                <!-- Stats s·∫Ω ƒë∆∞·ª£c render b·ªüi JS -->
            </div>
            
            <div id="historyList" class="history-list">
                <!-- List s·∫Ω ƒë∆∞·ª£c render b·ªüi JS -->
            </div>
            
            <button id="clearHistoryBtn" class="btn-clear-history">üóëÔ∏è X√≥a l·ªãch s·ª≠</button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/sounds.js"></script>
    <script src="js/history.js"></script>
    <script src="js/bot.js"></script>
    <script src="js/network.js"></script>
    <script src="js/game.js"></script>
</body>
</html>